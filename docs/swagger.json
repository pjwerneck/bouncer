{
    "swagger": "2.0",
    "info": {
        "description": "A simple rate limiting and synchronization service for distributed systems",
        "title": "Bouncer API",
        "contact": {},
        "license": {
            "name": "MIT",
            "url": "https://opensource.org/licenses/MIT"
        },
        "version": "0.1.6"
    },
    "host": "localhost:5505",
    "basePath": "/",
    "paths": {
        "/.well-known/ready": {
            "get": {
                "description": "Check if the service is ready",
                "tags": [
                    "Health"
                ],
                "summary": "Readiness check",
                "responses": {
                    "200": {
                        "description": "Service is ready",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/barrier/{name}/wait": {
            "get": {
                "description": "Wait until N parties have arrived at the barrier",
                "produces": [
                    "text/plain"
                ],
                "tags": [
                    "Barrier"
                ],
                "summary": "Wait at barrier",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Barrier name",
                        "name": "name",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": 2,
                        "description": "Number of parties to wait for",
                        "name": "size",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": -1,
                        "description": "Maximum wait time",
                        "name": "maxwait",
                        "in": "query"
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Barrier completed successfully"
                    },
                    "408": {
                        "description": "Request timeout - maxWait exceeded",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/counter/{name}/count": {
            "get": {
                "description": "Atomically adds amount to counter value",
                "produces": [
                    "text/plain"
                ],
                "tags": [
                    "Counter"
                ],
                "summary": "Increment or decrement counter",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Counter name",
                        "name": "name",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": 1,
                        "description": "Amount to add (can be negative)",
                        "name": "amount",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "New counter value",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/counter/{name}/reset": {
            "get": {
                "description": "Set counter to specified value",
                "produces": [
                    "text/plain"
                ],
                "tags": [
                    "Counter"
                ],
                "summary": "Reset counter value",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Counter name",
                        "name": "name",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": 0,
                        "description": "Value to set",
                        "name": "value",
                        "in": "query"
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Counter reset successful"
                    }
                }
            }
        },
        "/counter/{name}/value": {
            "get": {
                "description": "Returns current counter value",
                "produces": [
                    "text/plain"
                ],
                "tags": [
                    "Counter"
                ],
                "summary": "Get counter value",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Counter name",
                        "name": "name",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Current counter value",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/event/{name}/send": {
            "get": {
                "description": "Trigger an event",
                "produces": [
                    "text/plain"
                ],
                "tags": [
                    "Event"
                ],
                "summary": "Send an event",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Event name",
                        "name": "name",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Event sent successfully"
                    },
                    "400": {
                        "description": "Bad Request - invalid parameters",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Not Found - event handler not found",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "409": {
                        "description": "Conflict - event already sent",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/event/{name}/wait": {
            "get": {
                "description": "Wait for an event to be triggered",
                "produces": [
                    "text/plain"
                ],
                "tags": [
                    "Event"
                ],
                "summary": "Wait for an event",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Event name",
                        "name": "name",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": -1,
                        "description": "Maximum wait time",
                        "name": "maxwait",
                        "in": "query"
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Event signal received",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Bad Request - invalid parameters",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Not Found - event handler not found",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "408": {
                        "description": "Request timeout",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/semaphore/{name}/acquire": {
            "get": {
                "description": "Acquire a semaphore lock.",
                "produces": [
                    "text/plain"
                ],
                "tags": [
                    "Semaphore"
                ],
                "summary": "Acquire a semaphore",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Semaphore name",
                        "name": "name",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": 1,
                        "description": "Semaphore size",
                        "name": "size",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": -1,
                        "description": "Maximum wait time",
                        "name": "maxwait",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 60000,
                        "description": "Expiration time",
                        "name": "expires",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The semaphore release key",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Bad Request - invalid parameters",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Not Found - semaphore not found",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "408": {
                        "description": "Request Timeout - `maxWait` exceeded",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/semaphore/{name}/release": {
            "get": {
                "description": "Release a semaphore lock",
                "produces": [
                    "text/plain"
                ],
                "tags": [
                    "Semaphore"
                ],
                "summary": "Release a semaphore",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Semaphore name",
                        "name": "name",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": 1,
                        "description": "Semaphore size",
                        "name": "size",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Release key",
                        "name": "key",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Semaphore released successfully"
                    },
                    "400": {
                        "description": "Bad Request - invalid parameters",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Not Found - semaphore not found",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "409": {
                        "description": "Conflict - key is invalid or already released",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/tokenbucket/{name}/acquire": {
            "get": {
                "description": "Every `interval` milliseconds, the bucket is refilled with `size` tokens.\nEach acquire request takes one token out of the bucket, or waits up to `maxWait` milliseconds for a token to be available.",
                "produces": [
                    "text/plain"
                ],
                "tags": [
                    "TokenBucket"
                ],
                "summary": "Acquire a token from a token bucket",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token bucket name",
                        "name": "name",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": 1,
                        "description": "Bucket size",
                        "name": "size",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 1000,
                        "description": "Refill interval",
                        "name": "interval",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": -1,
                        "description": "Maximum wait time",
                        "name": "maxwait",
                        "in": "query"
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Token acquired successfully",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Bad Request - invalid parameters",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Not Found - token bucket not found",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "408": {
                        "description": "Request Timeout - `maxWait` exceeded",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/watchdog/{name}/kick": {
            "get": {
                "description": "Reset the watchdog timer to prevent expiration",
                "produces": [
                    "text/plain"
                ],
                "tags": [
                    "Watchdog"
                ],
                "summary": "Reset watchdog timer",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Watchdog name",
                        "name": "name",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": 60000,
                        "description": "Time until expiration in milliseconds",
                        "name": "expires",
                        "in": "query"
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Watchdog timer reset successfully"
                    },
                    "400": {
                        "description": "Bad Request - invalid parameters",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Not Found - watchdog not found",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/watchdog/{name}/wait": {
            "get": {
                "description": "Wait until the watchdog timer expires. Returns immediately if already expired.",
                "produces": [
                    "text/plain"
                ],
                "tags": [
                    "Watchdog"
                ],
                "summary": "Wait for watchdog expiration",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Watchdog name",
                        "name": "name",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": -1,
                        "description": "Maximum time to wait",
                        "name": "maxwait",
                        "in": "query"
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Watchdog expired or maxWait reached"
                    },
                    "400": {
                        "description": "Bad Request - invalid parameters",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Not Found - watchdog not found",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "408": {
                        "description": "Request Timeout - maxWait exceeded",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        }
    },
    "tags": [
        {
            "name": "TokenBucket"
        },
        {
            "name": "Semaphore"
        },
        {
            "name": "Event"
        },
        {
            "name": "Watchdog"
        },
        {
            "name": "Counter"
        },
        {
            "name": "Barrier"
        },
        {
            "name": "Health"
        }
    ]
}